<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.utm.bd.mappers.VendedorMapper">
  <resultMap id="BaseResultMap" type="edu.utm.bd.domain.Vendedor">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Apr 25 18:29:14 CDT 2018.
    -->
    <id column="id_vendedor" jdbcType="INTEGER" property="idVendedor" />
    <result column="nombre" jdbcType="VARCHAR" property="nombre" />
    <result column="apellido" jdbcType="VARCHAR" property="apellido" />
    <result column="username" jdbcType="VARCHAR" property="username" />
    <result column="contrasena" jdbcType="VARCHAR" property="contrasena" />
    <result column="correo" jdbcType="VARCHAR" property="correo" />
    <result column="administrador" jdbcType="BIT" property="administrador" />
    <result column="estado" jdbcType="BIT" property="estadoVendedor" />
  </resultMap>
  <select id="findAllVendedores" resultMap="BaseResultMap">
  	SELECT *FROM vendedor
  </select>
  <select id="findVendedorByUsername" resultMap="BaseResultMap" parameterType="STRING">
  		SELECT *FROM vendedor WHERE username LIKE CONCAT('%',#{usernameVendedor},'%') and estado=1
  </select>
  <update id="updateVendedor" parameterType="edu.utm.bd.domain.Vendedor">
  	UPDATE vendedor SET
  	nombre=#{nombre},apellido=#{apellido},username=#{username},contrasena=#{contrasena},correo=#{correo},administrador=#{administrador},estado=#{estadoVendedor} WHERE id_vendedor=#{idVendedor}
  </update>
  <insert id="insertVendedor" parameterType="edu.utm.bd.domain.Vendedor">
  	INSERT INTO vendedor (id_vendedor,nombre,apellido,username,contrasena,correo,administrador,estado) VALUES (#{idVendedor},#{nombre},#{apellido},#{username},#{contrasena},#{correo},#{administrador},1)
  </insert>
  <delete id="deleteVendedor" parameterType="INTEGER" >
  		UPDATE vendedor SET estado=0 WHERE id_vendedor=#{idVendedor}
  </delete>
  
</mapper>